(this["webpackJsonpmern-client"]=this["webpackJsonpmern-client"]||[]).push([[0],{44:function(e,t,a){e.exports=a.p+"static/media/spinner.fe07dc5e.gif"},76:function(e,t,a){e.exports=a(91)},81:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(61),o=a.n(c),l=(a(81),a(4)),i=a(8),s=a(10),u=a(70),m=a(73),d=a(103),p=a(101),b=a(69),E=a(7);function f(e,t,a){return new Promise((function(n,r){var c,o,l,i=window.indexedDB.open("shop-shop",1);i.onupgradeneeded=function(e){var t=i.result;t.createObjectStore("products",{keyPath:"_id"}),t.createObjectStore("categories",{keyPath:"_id"}),t.createObjectStore("cart",{keyPath:"_id"})},i.onerror=function(e){console.log("There was an error")},i.onsuccess=function(r){switch(c=i.result,o=c.transaction(e,"readwrite"),l=o.objectStore(e),c.onerror=function(e){console.log("error",e)},t){case"put":l.put(a),n(a);break;case"get":var s=l.getAll();s.onsuccess=function(){n(s.result)};break;case"delete":l.delete(a._id);break;default:console.log("No valid method")}o.oncomplete=function(){c.close()}}}))}var h=a(71),g=a(27),v=function(e,t){switch(t.type){case"UPDATE_PRODUCTS":return Object(l.a)(Object(l.a)({},e),{},{products:Object(g.a)(t.products)});case"ADD_TO_CART":return Object(l.a)(Object(l.a)({},e),{},{cartOpen:!0,cart:[].concat(Object(g.a)(e.cart),[t.product])});case"ADD_MULTIPLE_TO_CART":return Object(l.a)(Object(l.a)({},e),{},{cart:[].concat(Object(g.a)(e.cart),Object(g.a)(t.products))});case"UPDATE_CART_QUANTITY":return Object(l.a)(Object(l.a)({},e),{},{cartOpen:!0,cart:e.cart.map((function(e){return t._id===e._id&&(e.purchaseQuantity=t.purchaseQuantity),e}))});case"REMOVE_FROM_CART":var a=e.cart.filter((function(e){return e._id!==t._id}));return Object(l.a)(Object(l.a)({},e),{},{cartOpen:a.length>0,cart:a});case"CLEAR_CART":return Object(l.a)(Object(l.a)({},e),{},{cartOpen:!1,cart:[]});case"TOGGLE_CART":return Object(l.a)(Object(l.a)({},e),{},{cartOpen:!e.cartOpen});case"UPDATE_CATEGORIES":return Object(l.a)(Object(l.a)({},e),{},{categories:Object(g.a)(t.categories)});case"UPDATE_CURRENT_CATEGORY":return Object(l.a)(Object(l.a)({},e),{},{currentCategory:t.currentCategory});default:return e}};var O=["value"],w=Object(n.createContext)(),y=w.Provider,j=function(e){e.value;var t,a=Object(h.a)(e,O),c=(t={products:[],cart:[],cartOpen:!1,categories:[],currentCategory:""},Object(n.useReducer)(v,t)),o=Object(E.a)(c,2),l=o[0],i=o[1];return r.a.createElement(y,Object.assign({value:[l,i]},a))},T=function(){return Object(n.useContext)(w)};var x,_,k,N,C,A,S=function(e){var t=T(),a=Object(E.a)(t,2),n=a[0],c=a[1],o=e.image,s=e.name,u=e._id,m=e.price,d=e.quantity,p=n.cart;return r.a.createElement("div",{className:"card px-1 py-1"},r.a.createElement(i.b,{to:"/products/".concat(u)},r.a.createElement("img",{alt:s,src:"/images/".concat(o)}),r.a.createElement("p",null,s)),r.a.createElement("div",null,r.a.createElement("div",null,d," ",function(e,t){return 1===t?e:e+"s"}("item",d)," in stock"),r.a.createElement("span",null,"$",m)),r.a.createElement("button",{class:"button",onClick:function(){var t=p.find((function(e){return e._id===u}));t?(c({type:"UPDATE_CART_QUANTITY",_id:u,purchaseQuantity:parseInt(t.purchaseQuantity)+1}),f("cart","put",Object(l.a)(Object(l.a)({},t),{},{purchaseQuantity:parseInt(t.purchaseQuantity)+1}))):(c({type:"ADD_TO_CART",product:Object(l.a)(Object(l.a)({},e),{},{purchaseQuantity:1})}),f("cart","put",Object(l.a)(Object(l.a)({},e),{},{purchaseQuantity:1})))}},"Add to cart"))},R=a(64),D=a(23),P=a(102),U=Object(P.a)(x||(x=Object(D.a)(["\n  query getProducts($category: ID) {\n    products(category: $category) {\n      _id\n      name\n      description\n      price\n      quantity\n      image\n      category {\n        _id\n      }\n    }\n  }\n"]))),I=(Object(P.a)(_||(_=Object(D.a)(["\nquery getrandomProduct {\n  randomProduct {\n    _id\n    name\n    description\n    price\n    quantity\n    image\n  }\n}\n"]))),Object(P.a)(k||(k=Object(D.a)(["\n  query getCheckout($products: [ID]!) {\n    checkout(products: $products) {\n      session\n    }\n  }\n"])))),q=(Object(P.a)(N||(N=Object(D.a)(["\n  {\n    products {\n      _id\n      name\n      description\n      price\n      quantity\n      category {\n        name\n      }\n    }\n  }\n"]))),Object(P.a)(C||(C=Object(D.a)(["\n  {\n    categories {\n      _id\n      name\n    }\n  }\n"])))),Q=Object(P.a)(A||(A=Object(D.a)(["\n  {\n    user {\n      firstName\n      lastName\n      orders {\n        _id\n        purchaseDate\n        products {\n          _id\n          name\n          description\n          price\n          quantity\n          image\n        }\n      }\n    }\n  }\n"]))),z=a(44),M=a.n(z);var $=function(){var e=T(),t=Object(E.a)(e,2),a=t[0],c=t[1],o=a.currentCategory,l=Object(R.a)(U),i=l.loading,s=l.data;return Object(n.useEffect)((function(){s?(c({type:"UPDATE_PRODUCTS",products:s.products}),s.products.forEach((function(e){f("products","put",e)}))):i||f("products","get").then((function(e){c({type:"UPDATE_PRODUCTS",products:e})}))}),[s,i,c]),r.a.createElement("div",{className:"my-2"},r.a.createElement("h2",null,"Our Travel Packages:"),a.products.length?r.a.createElement("div",{className:"flex-row"},(o?a.products.filter((function(e){return e.category._id===o})):a.products).map((function(e){return r.a.createElement(S,{key:e._id,_id:e._id,image:e.image,name:e.name,price:e.price,quantity:e.quantity})}))):r.a.createElement("h3",null,"You haven't added any packages yet!"),i?r.a.createElement("img",{src:M.a,alt:"loading"}):null)};var W=function(){var e=T(),t=Object(E.a)(e,2),a=t[0],c=t[1],o=a.categories,l=Object(R.a)(q),i=l.loading,s=l.data;return Object(n.useEffect)((function(){s?(c({type:"UPDATE_CATEGORIES",categories:s.categories}),s.categories.forEach((function(e){f("categories","put",e)}))):i||f("categories","get").then((function(e){c({type:"UPDATE_CATEGORIES",categories:e})}))}),[s,i,c]),r.a.createElement("div",null,r.a.createElement("h2",null,"Choose a Continent to Explore:"),o.map((function(e){return r.a.createElement("button",{key:e._id,onClick:function(){var t;t=e._id,c({type:"UPDATE_CURRENT_CATEGORY",currentCategory:t})}},e.name)})))},F=a(18),H=a.n(F),L=a(26),G=a(66),Y=a(99),V=function(e){var t=e.item,a=T(),n=Object(E.a)(a,2)[1];return r.a.createElement("div",{className:"flex-row"},r.a.createElement("div",null,r.a.createElement("img",{src:"/images/".concat(t.image),alt:""})),r.a.createElement("div",null,r.a.createElement("div",null,t.name,", $",t.price),r.a.createElement("div",null,r.a.createElement("span",null,"Qty:"),r.a.createElement("input",{type:"number",placeholder:"1",value:t.purchaseQuantity,onChange:function(e){var a=e.target.value;"0"===a?(n({type:"REMOVE_FROM_CART",_id:t._id}),f("cart","delete",Object(l.a)({},t))):(n({type:"UPDATE_CART_QUANTITY",_id:t._id,purchaseQuantity:parseInt(a)}),f("cart","put",Object(l.a)(Object(l.a)({},t),{},{purchaseQuantity:parseInt(a)})))}}),r.a.createElement("span",{role:"img","aria-label":"trash",onClick:function(){return function(e){n({type:"REMOVE_FROM_CART",_id:e._id}),f("cart","delete",Object(l.a)({},e))}(t)}},"\ud83d\uddd1\ufe0f"))))},B=a(67),J=a(68),K=a(53),X=a.n(K),Z=new(function(){function e(){Object(B.a)(this,e)}return Object(J.a)(e,[{key:"getProfile",value:function(){return X()(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return X()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),ee=(a(90),Object(G.a)("pk_test_TYooMQauvdEDq54NiTphI7jx")),te=function(){var e=T(),t=Object(E.a)(e,2),a=t[0],c=t[1],o=Object(Y.a)(I),l=Object(E.a)(o,2),i=l[0],s=l[1].data;function u(){c({type:"TOGGLE_CART"})}return Object(n.useEffect)((function(){s&&ee.then((function(e){e.redirectToCheckout({sessionId:s.checkout.session})}))}),[s]),Object(n.useEffect)((function(){function e(){return(e=Object(L.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("cart","get");case 2:t=e.sent,c({type:"ADD_MULTIPLE_TO_CART",products:Object(g.a)(t)});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a.cart.length||function(){e.apply(this,arguments)}()}),[a.cart.length,c]),a.cartOpen?r.a.createElement("div",{className:"cart"},r.a.createElement("div",{className:"close",onClick:u},"[close]"),r.a.createElement("h2",null,"Your Itinerary"),a.cart.length?r.a.createElement("div",null,a.cart.map((function(e){return r.a.createElement(V,{key:e._id,item:e})})),r.a.createElement("div",{className:"flex-row space-between"},r.a.createElement("strong",null,"Total: $",function(){var e=0;return a.cart.forEach((function(t){e+=t.price*t.purchaseQuantity})),e.toFixed(2)}()),Z.loggedIn()?r.a.createElement("button",{onClick:function(){var e=[];a.cart.forEach((function(t){for(var a=0;a<t.purchaseQuantity;a++)e.push(t._id)})),i({variables:{products:e}})}},"Checkout"):r.a.createElement("span",null,"(log in to check out)"))):r.a.createElement("h3",null,r.a.createElement("span",{role:"img","aria-label":"map"},"\ud83d\uddfa\ufe0f"),"You haven't added a package to your cart yet!")):r.a.createElement("div",{className:"cart-closed",onClick:u},r.a.createElement("span",{role:"img","aria-label":"plane"},"\u2708\ufe0f"))},ae=function(){return r.a.createElement("div",{className:"container"},r.a.createElement(W,null),r.a.createElement($,null),r.a.createElement(te,null))};var ne=function(){var e=T(),t=Object(E.a)(e,2),a=t[0],c=t[1],o=Object(s.g)().id,u=Object(n.useState)({}),m=Object(E.a)(u,2),d=m[0],p=m[1],b=Object(R.a)(U),h=b.loading,g=b.data,v=a.products,O=a.cart;return Object(n.useEffect)((function(){v.length?p(v.find((function(e){return e._id===o}))):g?(c({type:"UPDATE_PRODUCTS",products:g.products}),g.products.forEach((function(e){f("products","put",e)}))):h||f("products","get").then((function(e){c({type:"UPDATE_PRODUCTS",products:e})}))}),[v,g,h,c,o]),r.a.createElement(r.a.Fragment,null,d&&O?r.a.createElement("div",{className:"container my-1"},r.a.createElement(i.b,{to:"/"},"\u2190 Back to Packages"),r.a.createElement("h2",null,d.name),r.a.createElement("p",null,d.description),r.a.createElement("p",null,r.a.createElement("strong",null,"Price:"),"$",d.price," ",r.a.createElement("button",{onClick:function(){var e=O.find((function(e){return e._id===o}));e?(c({type:"UPDATE_CART_QUANTITY",_id:o,purchaseQuantity:parseInt(e.purchaseQuantity)+1}),f("cart","put",Object(l.a)(Object(l.a)({},e),{},{purchaseQuantity:parseInt(e.purchaseQuantity)+1}))):(c({type:"ADD_TO_CART",product:Object(l.a)(Object(l.a)({},d),{},{purchaseQuantity:1})}),f("cart","put",Object(l.a)(Object(l.a)({},d),{},{purchaseQuantity:1})))}},"Add to Cart"),r.a.createElement("button",{disabled:!O.find((function(e){return e._id===d._id})),onClick:function(){c({type:"REMOVE_FROM_CART",_id:d._id}),f("cart","delete",Object(l.a)({},d))}},"Remove from Cart")),r.a.createElement("img",{src:"/images/".concat(d.image),alt:d.name})):null,h?r.a.createElement("img",{src:M.a,alt:"loading"}):null,r.a.createElement(te,null))};var re,ce,oe,le=function(e){var t=e.children;return r.a.createElement("div",{style:{height:560,clear:"both",paddingTop:120,textAlign:"center"}},t)},ie=function(){return r.a.createElement("div",null,r.a.createElement(le,null,r.a.createElement("h1",null,"404 Error: NOPE"),r.a.createElement("h1",null,r.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44"))))},se=a(32),ue=a(100),me=Object(P.a)(re||(re=Object(D.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"]))),de=Object(P.a)(ce||(ce=Object(D.a)(["\n  mutation addOrder($products: [ID]!) {\n    addOrder(products: $products) {\n      purchaseDate\n      products {\n        _id\n        name\n        description\n        price\n        quantity\n        category {\n          name\n        }\n      }\n    }\n  }\n"]))),pe=Object(P.a)(oe||(oe=Object(D.a)(["\n  mutation addUser(\n    $firstName: String!\n    $lastName: String!\n    $email: String!\n    $password: String!\n  ) {\n    addUser(\n      firstName: $firstName\n      lastName: $lastName\n      email: $email\n      password: $password\n    ) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"])));var be=function(e){var t=Object(n.useState)({email:"",password:""}),a=Object(E.a)(t,2),c=a[0],o=a[1],s=Object(ue.a)(me),u=Object(E.a)(s,2),m=u[0],d=u[1].error,p=function(){var e=Object(L.a)(H.a.mark((function e(t){var a,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,m({variables:{email:c.email,password:c.password}});case 4:a=e.sent,n=a.data.login.token,Z.login(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),b=function(e){var t=e.target,a=t.name,n=t.value;o(Object(l.a)(Object(l.a)({},c),{},Object(se.a)({},a,n)))};return r.a.createElement("div",{className:"container my-1"},r.a.createElement(i.b,{to:"/signup"},"\u2190 Go to Signup"),r.a.createElement("h2",null,"Login"),r.a.createElement("form",{onSubmit:p},r.a.createElement("div",{className:"flex-row space-between my-2"},r.a.createElement("label",{htmlFor:"email"},"Email address:"),r.a.createElement("input",{placeholder:"Type email here",name:"email",type:"email",id:"email",onChange:b})),r.a.createElement("div",{className:"flex-row space-between my-2"},r.a.createElement("label",{htmlFor:"pwd"},"Password:"),r.a.createElement("input",{placeholder:"@#%#^@!",name:"password",type:"password",id:"pwd",onChange:b})),d?r.a.createElement("div",null,r.a.createElement("p",{className:"error-text"},"The provided credentials are incorrect")):null,r.a.createElement("div",{className:"flex-row flex-end"},r.a.createElement("button",{type:"submit"},"Submit"))))};var Ee=function(e){var t=Object(n.useState)({email:"",password:""}),a=Object(E.a)(t,2),c=a[0],o=a[1],s=Object(ue.a)(pe),u=Object(E.a)(s,1)[0],m=function(){var e=Object(L.a)(H.a.mark((function e(t){var a,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,u({variables:{email:c.email,password:c.password,firstName:c.firstName,lastName:c.lastName}});case 3:a=e.sent,n=a.data.addUser.token,Z.login(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(e){var t=e.target,a=t.name,n=t.value;o(Object(l.a)(Object(l.a)({},c),{},Object(se.a)({},a,n)))};return r.a.createElement("div",{className:"container my-1"},r.a.createElement(i.b,{to:"/login"},"\u2190 Go to Login"),r.a.createElement("h2",null,"Signup"),r.a.createElement("form",{onSubmit:m},r.a.createElement("div",{className:"flex-row space-between my-2"},r.a.createElement("label",{htmlFor:"firstName"},"First Name:"),r.a.createElement("input",{placeholder:"First",name:"firstName",type:"firstName",id:"firstName",onChange:d})),r.a.createElement("div",{className:"flex-row space-between my-2"},r.a.createElement("label",{htmlFor:"lastName"},"Last Name:"),r.a.createElement("input",{placeholder:"Last",name:"lastName",type:"lastName",id:"lastName",onChange:d})),r.a.createElement("div",{className:"flex-row space-between my-2"},r.a.createElement("label",{htmlFor:"email"},"Email:"),r.a.createElement("input",{placeholder:"youremail@test.com",name:"email",type:"email",id:"email",onChange:d})),r.a.createElement("div",{className:"flex-row space-between my-2"},r.a.createElement("label",{htmlFor:"pwd"},"Password:"),r.a.createElement("input",{placeholder:"******",name:"password",type:"password",id:"pwd",onChange:d})),r.a.createElement("div",{className:"flex-row flex-end"},r.a.createElement("button",{type:"submit"},"Submit"))))};var fe=function(){return r.a.createElement("header",{className:"flex-row px-1"},r.a.createElement("h1",null,r.a.createElement(i.b,{to:"/"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",fill:"currentColor",class:"bi bi-globe",viewBox:"0 0 16 16"},r.a.createElement("path",{d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm7.5-6.923c-.67.204-1.335.82-1.887 1.855A7.97 7.97 0 0 0 5.145 4H7.5V1.077zM4.09 4a9.267 9.267 0 0 1 .64-1.539 6.7 6.7 0 0 1 .597-.933A7.025 7.025 0 0 0 2.255 4H4.09zm-.582 3.5c.03-.877.138-1.718.312-2.5H1.674a6.958 6.958 0 0 0-.656 2.5h2.49zM4.847 5a12.5 12.5 0 0 0-.338 2.5H7.5V5H4.847zM8.5 5v2.5h2.99a12.495 12.495 0 0 0-.337-2.5H8.5zM4.51 8.5a12.5 12.5 0 0 0 .337 2.5H7.5V8.5H4.51zm3.99 0V11h2.653c.187-.765.306-1.608.338-2.5H8.5zM5.145 12c.138.386.295.744.468 1.068.552 1.035 1.218 1.65 1.887 1.855V12H5.145zm.182 2.472a6.696 6.696 0 0 1-.597-.933A9.268 9.268 0 0 1 4.09 12H2.255a7.024 7.024 0 0 0 3.072 2.472zM3.82 11a13.652 13.652 0 0 1-.312-2.5h-2.49c.062.89.291 1.733.656 2.5H3.82zm6.853 3.472A7.024 7.024 0 0 0 13.745 12H11.91a9.27 9.27 0 0 1-.64 1.539 6.688 6.688 0 0 1-.597.933zM8.5 12v2.923c.67-.204 1.335-.82 1.887-1.855.173-.324.33-.682.468-1.068H8.5zm3.68-1h2.146c.365-.767.594-1.61.656-2.5h-2.49a13.65 13.65 0 0 1-.312 2.5zm2.802-3.5a6.959 6.959 0 0 0-.656-2.5H12.18c.174.782.282 1.623.312 2.5h2.49zM11.27 2.461c.247.464.462.98.64 1.539h1.835a7.024 7.024 0 0 0-3.072-2.472c.218.284.418.598.597.933zM10.855 4a7.966 7.966 0 0 0-.468-1.068C9.835 1.897 9.17 1.282 8.5 1.077V4h2.355z"})),"International Globetrotters")),r.a.createElement("nav",null,Z.loggedIn()?r.a.createElement("ul",{class:"nabar",className:"flex-row"},r.a.createElement("li",{class:"nabar",className:"mx-1"},r.a.createElement(i.b,{to:"/orderHistory"},"Travel History")),r.a.createElement("li",{class:"nabar",className:"mx-1"},r.a.createElement("a",{href:"/",onClick:function(){return Z.logout()}},"Logout")),r.a.createElement("li",{class:"navbar",className:"mx-1"},r.a.createElement(i.b,{to:"/quiz"},"Quiz")),r.a.createElement("li",{class:"navbar",className:"mx-1"},r.a.createElement(i.b,{to:"/about"},"About Us"))):r.a.createElement("ul",{class:"navbar",className:"flex-row"},r.a.createElement("li",{class:"navbar",className:"mx-1"},r.a.createElement(i.b,{to:"/signup"},"Signup")),r.a.createElement("li",{className:"mx-1"},r.a.createElement(i.b,{to:"/login"},"Login")),r.a.createElement("li",{class:"navbar",className:"mx-1"},r.a.createElement(i.b,{to:"/quiz"},"Quiz")),r.a.createElement("li",{class:"navbar",className:"mx-1"},r.a.createElement(i.b,{to:"/about"},"About Us")))))};var he=function(){var e=Object(ue.a)(de),t=Object(E.a)(e,1)[0];return Object(n.useEffect)((function(){function e(){return(e=Object(L.a)(H.a.mark((function e(){var a,n,r,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("cart","get");case 2:if(a=e.sent,!(n=a.map((function(e){return e._id}))).length){e.next=11;break}return e.next=7,t({variables:{products:n}});case 7:r=e.sent,c=r.data,c.addOrder.products.forEach((function(e){f("cart","delete",e)}));case 11:setTimeout((function(){window.location.assign("/")}),3e3);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),r.a.createElement("div",null,r.a.createElement(le,null,r.a.createElement("h1",null,"Success!"),r.a.createElement("h2",null,"Thank you for your purchase! An Agent will be in touch shortly."),r.a.createElement("h2",null,"Safe Travels!")))};var ge=function(){var e,t=Object(R.a)(Q).data;return t&&(e=t.user),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container my-1"},r.a.createElement(i.b,{to:"/"},"\u2190 Back to Products"),e?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Order History for ",e.firstName," ",e.lastName),e.orders.map((function(e){return r.a.createElement("div",{key:e._id,className:"my-2"},r.a.createElement("h3",null,new Date(parseInt(e.purchaseDate)).toLocaleDateString()),r.a.createElement("div",{className:"flex-row"},e.products.map((function(e,t){var a=e._id,n=e.image,c=e.name,o=e.price;return r.a.createElement("div",{key:t,className:"card px-1 py-1"},r.a.createElement(i.b,{to:"/products/".concat(a)},r.a.createElement("img",{alt:c,src:"/images/".concat(n)}),r.a.createElement("p",null,c)),r.a.createElement("div",null,r.a.createElement("span",null,"$",o)))}))))}))):null))};var ve=function(){var e=[{questionText:"What is your ideal climate?",answerOptions:[{answerText:"Tropical"},{answerText:"Four seasons"},{answerText:"70\xb0F year round"},{answerText:"Snow"}]},{questionText:"What type of enviornment do you most want to live in?",answerOptions:[{answerText:"City"},{answerText:"Beach"},{answerText:"Mountains"},{answerText:"Island"}]},{questionText:"What are your language abilities?",answerOptions:[{answerText:"Speak more than 1 langugae"},{answerText:"Only speak English"},{answerText:"Learning new langauges"}]},{questionText:"What is your favorite dish?",answerOptions:[{answerText:"Pizza"},{answerText:"Sushi"},{answerText:"Pasta"},{answerText:"Salad"}]},{questionText:"Which of these would you most likely spend your weekend doing?",answerOptions:[{answerText:"Coffee shops"},{answerText:"Spa"},{answerText:"going to a bar?"},{answerText:"Movies"}]},{questionText:"Which of th following are you most passionate about?",answerOptions:[{answerText:"Culture"},{answerText:"Tradition"},{answerText:"Adventure"},{answerText:"Art"}]},{questionText:"What's the perfect way to spend a day?",answerOptions:[{answerText:"Site seeing"},{answerText:"Kayaking"},{answerText:"Visiting a Winery"},{answerText:"Shopping"}]},{questionText:"Why do you like to travel?",answerOptions:[{answerText:"Escape responsibilities"},{answerText:"See nature's beauties"},{answerText:"Create memories with family/friends"},{answerText:"Learn new cultures"}]},{questionText:"Is having acess to high speed internet important to you?",answerOptions:[{answerText:"Yes"},{answerText:"No"}]}],t=Object(n.useState)(0),a=Object(E.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(!1),i=Object(E.a)(l,2),u=i[0],m=i[1],d=Object(n.useState)(0),p=Object(E.a)(d,2),b=p[0],f=p[1];return Object(n.useEffect)((function(){m&&setTimeout((function(){return 3e3}))})),r.a.createElement("div",{className:"app"},u?r.a.createElement(le,null,r.a.createElement("div",{className:"score-section"},r.a.createElement("h2",null,"Thank you for completing the Questionaire."),r.a.createElement("h2",null,"You will be routed to a destination shortly."),r.a.createElement("h2",null,"Safe Travels!"),r.a.createElement(s.a,{to:"/products/6272f58dcb1ee55f286b224b"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"question-section"},r.a.createElement("div",{className:"question-count"},r.a.createElement("span",null,"Question ",c+1),"/",e.length),r.a.createElement("div",{className:"question-text"},e[c].questionText)),r.a.createElement("div",{className:"answer-section"},e[c].answerOptions.map((function(t){return r.a.createElement("button",{onClick:function(){return function(t){t&&f(b+1);var a=c+1;a<e.length?o(a):m(!0)}(t.isCorrect)}},t.answerText)})))))};var Oe=function(){return r.a.createElement("section",{class:"about"},r.a.createElement("h1",{id:"about"},"About Us"),r.a.createElement("p",null,"We are International GlobeTrotters. We are travel expert and adventurers who have compiled many years of expertise to arrange the top most see travel destinations. Whether you enjoy the warm weather in Florida, the busy streets of London, or even freezing cold temperatures at the South Pole, we are able to set you up with the best travel package fit for you\u2026 but it might cost you an arm and leg",r.a.createElement("br",null),"Not sure where to travel to? We\u2019ve developed a quiz to help narrow you down to a good destination. Just answer the questions and we\u2019ll recommend an exotic locale for you to visit.",r.a.createElement("br",null),"Enjoy!"))},we=Object(u.a)({uri:"/graphql"}),ye=Object(b.a)((function(e,t){var a=t.headers,n=localStorage.getItem("id_token");return{headers:Object(l.a)(Object(l.a)({},a),{},{authorization:n?"Bearer ".concat(n):""})}})),je=new m.a({link:ye.concat(we),cache:new d.a});var Te=function(){return r.a.createElement(p.a,{client:je},r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement(j,null,r.a.createElement(fe,null),r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",component:ae}),r.a.createElement(s.b,{exact:!0,path:"/login",component:be}),r.a.createElement(s.b,{exact:!0,path:"/signup",component:Ee}),r.a.createElement(s.b,{exact:!0,path:"/success",component:he}),r.a.createElement(s.b,{exact:!0,path:"/orderHistory",component:ge}),r.a.createElement(s.b,{exact:!0,path:"/products/:id",component:ne}),r.a.createElement(s.b,{exact:!0,path:"/quiz",component:ve}),r.a.createElement(s.b,{exact:!0,path:"/about",component:Oe}),r.a.createElement(s.b,{component:ie}))))))},xe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _e(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Te,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");xe?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):_e(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):_e(t,e)}))}}()}},[[76,1,2]]]);
//# sourceMappingURL=main.dcbca130.chunk.js.map